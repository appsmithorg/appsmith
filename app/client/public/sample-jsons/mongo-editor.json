{
    "editor": [
      {
        "label": "Commands",
        "description": "Choose method you would like to use to query the database",
        "configProperty": "actionConfiguration.formData.command",
        "controlType": "DROP_DOWN",
        "initialValue": "FIND",
        "options": [
          {
            "label": "Insert Document(s)",
            "value": "INSERT"
          },
          {
            "label": "Find Document(s)",
            "value": "FIND"
          },
          {
            "label": "Update Document(s)",
            "value": "UPDATE"
          },
          {
            "label": "Delete Document(s)",
            "value": "DELETE"
          },
          {
            "label": "Count",
            "value": "COUNT"
          },
          {
            "label": "Distinct",
            "value": "DISTINCT"
          },
          {
            "label": "Aggregate",
            "value": "AGGREGATE"
          },
          {
            "label": "Raw",
            "value": "RAW"
          }
        ]
      },
      {
        "controlType": "SECTION",
        "label": "",
        "children": [
          {
            "identifier": "FIND",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'FIND'}}"
            },
            "children": [
              {
                "label": "Collection Name",
                "configProperty": "actionConfiguration.formData.collectionName",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE"
              },
              {
                "label": "Query",
                "inputType": "JSON",
                "configProperty": "actionConfiguration.formData.findCmdForm.query",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{rating : {$gte : 9}}"
              },
              {
                "label": "Sort",
                "configProperty": "actionConfiguration.formData.findCmdForm.sort",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{name : 1}"
              },
              {
                "label": "Projection",
                "configProperty": "actionConfiguration.formData.findCmdForm.projection",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{name : 1}"
              },
              {
                "label": "Limit",
                "configProperty": "actionConfiguration.formData.findCmdForm.limit",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "10"
              },
              {
                "label": "Skip",
                "configProperty": "actionConfiguration.formData.findCmdForm.skip",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "0"
              }
            ]
          },
          {
            "identifier": "INSERT",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'INSERT'}}"
            },
            "children": [
              {
                "label": "Test",
                "configProperty": "actionConfiguration.sorting",
                "controlType": "SORTING",
                "options": [
                    {
                      "label": "Single Document",
                      "value": "SINGLE"
                    },
                    {
                      "label": "All Matching Documents",
                      "value": "ALL"
                    }
                  ]
              }
            ]
          },
          {
            "identifier": "UPDATE",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'UPDATE'}}"
            },
            "children": [
              {
                "label": "Collection Name",
                "configProperty": "actionConfiguration.formData.collectionName",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE"
              },
              {
                "label": "Query",
                "inputType": "JSON",
                "configProperty": "actionConfiguration.formData.updateMany.query",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{rating : {$gte : 9}}"
              },
              {
                "label": "Update",
                "configProperty": "actionConfiguration.formData.updateMany.update",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{ $inc: { score: 1 } }"
              },
              {
                "label": "Limit",
                "configProperty": "actionConfiguration.formData.updateMany.limit",
                "controlType": "DROP_DOWN",
                "initialValue": "SINGLE",
                "options": [
                  {
                    "label": "Single Document",
                    "value": "SINGLE"
                  },
                  {
                    "label": "All Matching Documents",
                    "value": "ALL"
                  }
                ]
              }
            ]
          },
          {
            "identifier": "DELETE",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'DELETE'}}"
            },
            "children": [
              {
                "label": "Collection Name",
                "configProperty": "actionConfiguration.formData.collectionName",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE"
              },
              {
                "label": "Query",
                "inputType": "JSON",
                "configProperty": "actionConfiguration.formData.delete.query",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{rating : {$gte : 9}}"
              },
              {
                "label": "Limit",
                "configProperty": "actionConfiguration.formData.delete.limit",
                "controlType": "DROP_DOWN",
                "initialValue": "SINGLE",
                "options": [
                  {
                    "label": "Single Document",
                    "value": "SINGLE"
                  },
                  {
                    "label": "All Matching Documents",
                    "value": "ALL"
                  }
                ]
              }
            ]
          },
          {
            "identifier": "COUNT",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'COUNT'}}"
            },
            "children": [
              {
                "label": "Collection Name",
                "configProperty": "actionConfiguration.formData.collectionName",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE"
              },
              {
                "label": "Query",
                "inputType": "JSON",
                "configProperty": "actionConfiguration.formData.count.query",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{rating : {$gte : 9}}"
              }
            ]
          },
          {
            "identifier": "DISTINCT",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'DISTINCT'}}"
            },
            "children": [
              {
                "label": "Collection Name",
                "configProperty": "actionConfiguration.formData.collectionName",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE"
              },
              {
                "label": "Query",
                "inputType": "JSON",
                "configProperty": "actionConfiguration.formData.distinct.query",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "{rating : {$gte : 9}}"
              },
              {
                "label": "Key",
                "configProperty": "actionConfiguration.formData.distinct.key",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "name"
              }
            ]
          },
          {
            "identifier": "AGGREGATE",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'AGGREGATE'}}"
            },
            "children": [
              {
                "label": "Collection Name",
                "configProperty": "actionConfiguration.formData.collectionName",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE"
              },
              {
                "label": "Array of Pipelines",
                "configProperty": "actionConfiguration.formData.aggregate.arrayPipelines",
                "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "placeholderText": "[{ $project: { tags: 1 } }, { $unwind: \"$tags\" }, { $group: { _id: \"$tags\", count: { $sum : 1 } } }  ]"
              }
            ]
          },
          {
            "identifier": "RAW",
            "controlType": "SECTION",
            "label": "",
            "conditionals": {
              "show": "{{actionConfiguration.formData.command === 'RAW'}}"
            },
            "children": [
              {
                "label": "",
                "internalLabel": "Query",
                "propertyName": "rawWithSmartSubstitute",
                "configProperty": "actionConfiguration.body",
                "controlType": "QUERY_DYNAMIC_TEXT",
                "evaluationSubstitutionType": "SMART_SUBSTITUTE",
                "conditionals": {
                  "show": "{{actionConfiguration.formData.smartSubstitutions === true}}"
                }
              },
              {
                "label": "",
                "configProperty": "actionConfiguration.body",
                "propertyName": "rawWithTemplate",
                "internalLabel": "Query",
                "controlType": "QUERY_DYNAMIC_TEXT",
                "evaluationSubstitutionType": "TEMPLATE",
                "conditionals": {
                  "show": "{{actionConfiguration.formData.smartSubstitutions === false}}"
                }
              }
            ]
          }
        ]
      }
    ]
  } 
