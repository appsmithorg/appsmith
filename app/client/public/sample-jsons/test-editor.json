{
    "editor": [
        {
            "label": "Commands",
            "description": "Choose method you would like to use to query the database",
            "configProperty": "actionConfiguration.formData.command",
            "controlType": "DROP_DOWN",
            "initialValue": "FIND_ONE",
            "options": [
                {
                    "label": "Insert Document(s)",
                    "value": "INSERT"
                },
                {
                    "label": "Find Document(s)",
                    "value": "FIND_ONE"
                },
                {
                    "label": "Update Document(s)",
                    "value": "UPDATE"
                },
                {
                    "label": "Delete Document(s)",
                    "value": "DELETE"
                },
                {
                    "label": "Count",
                    "value": "COUNT"
                },
                {
                    "label": "Distinct",
                    "value": "DISTINCT"
                },
                {
                    "label": "Aggregate",
                    "value": "AGGREGATE"
                },
                {
                    "label": "Raw",
                    "value": "RAW"
                }
            ]
        },
        {
            "controlType": "SECTION",
            "label": "",
            "children": [
                {
                    "identifier": "FIND_ONE",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'FIND_ONE'}}"
                    },
                    "children": [
                        {
                            "label": "Collection Name",
                            "configProperty": "actionConfiguration.formData.collectionName",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE"
                        },
                        {
                            "label": "Query",
                            "inputType": "JSON",
                            "configProperty": "actionConfiguration.formData.findCmdForm.query",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{rating : {$gte : 9}}"
                        },
                        {
                            "label": "Sort",
                            "configProperty": "actionConfiguration.formData.findCmdForm.sort",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{name : 1}"
                        },
                        {
                            "label": "Projection",
                            "configProperty": "actionConfiguration.formData.findCmdForm.projection",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{name : 1}"
                        },
                        {
                            "label": "Limit",
                            "configProperty": "actionConfiguration.formData.findCmdForm.limit",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "10"
                        },
                        {
                            "label": "Skip",
                            "configProperty": "actionConfiguration.formData.findCmdForm.skip",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "0"
                        }
                    ]
                },
                {
                    "identifier": "INSERT",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'INSERT'}}"
                    },
                    "children": [
                        {
                            "label": "Sorting test",
                            "configProperty": "actionConfiguration.formData.insert.d",
                            "controlType": "SORTING",
                            "placeholderText": "0"
                        },
                        {
                            "label": "Pagination test",
                            "configProperty": "actionConfiguration.formData.insert.e",
                            "controlType": "PAGINATION",
                            "placeholderText": "0"
                        },
                        {
                            "label": "Entity Selector",
                            "configProperty": "actionConfiguration.formData.insert.a",
                            "controlType": "ENTITY_SELECTOR",
                            "schema": [
                                {
                                    "label": "Hello",
                                    "controlType": "DROP_DOWN",
                                    "info": "This is something",
                                    "configProperty": "actionConfiguration.formData.insert.ES.hello",
                                    "conditionals": {
                                        "enable": "{{actionConfiguration.formData.insert.skipTest === 'ES'}}",
                                        "fetchDynamicValues": {
                                            "condition": "{{actionConfiguration.formData.insert.skipTest === 'ES'}}",
                                            "url": "https://101900fb-aa1f-49d9-b238-b2062bbd526c.mock.pstmn.io/test1",
                                            "params": {
                                                "id": "123",
                                                "datasource_id": 1
                                            }
                                        }
                                    }
                                },
                                {
                                    "label": "Heyo",
                                    "controlType": "DROP_DOWN",
                                    "info": "This is something too",
                                    "configProperty": "actionConfiguration.formData.insert.ES.heyo",
                                    "conditionals": {
                                        "enable": "{{actionConfiguration.formData.insert.skipTest === 'ES'}}",
                                        "fetchDynamicValues": {
                                            "condition": "{{actionConfiguration.formData.insert.skipTest === 'ES'}}",
                                            "url": "https://101900fb-aa1f-49d9-b238-b2062bbd526c.mock.pstmn.io/test1",
                                            "method": "GET"
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "label": "Test 1",
                            "configProperty": "actionConfiguration.formData.insert.skipTest1",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "0"
                        },
                        {
                            "label": "Skip the tester",
                            "configProperty": "actionConfiguration.formData.insert.skipTest",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "0"
                        },
                        {
                            "label": "Tester",
                            "description": "Choose method you would like to use to query the database",
                            "configProperty": "actionConfiguration.formData.insert.enableTest4",
                            "controlType": "DROP_DOWN",
                            "options": [],
                            "fetchOptionsCondtionally": true,
                            "conditionals": {
                                "enable": "{{actionConfiguration.formData.insert.skipTest === 'FIND'}}",
                                "fetchDynamicValues": {
                                    "condition": "{{actionConfiguration.formData.insert.skipTest === 'FIND'}}",
                                    "url": "https://101900fb-aa1f-49d9-b238-b2062bbd526c.mock.pstmn.io/test1",
                                    "method": "GET"
                                }
                            }
                        },
                        {
                            "label": "Tester 2",
                            "description": "Choose method you would like to use to query the database",
                            "configProperty": "actionConfiguration.formData.insert.enableTest5",
                            "controlType": "DROP_DOWN",
                            "options": [],
                            "fetchOptionsCondtionally": true,
                            "conditionals": {
                                "enable": "{{actionConfiguration.formData.insert.enableTest4 === 'PLACE'}}",
                                "fetchDynamicValues": {
                                    "condition": "{{actionConfiguration.formData.insert.enableTest4 === 'PLACE'}}",
                                    "url": "https://101900fb-aa1f-49d9-b238-b2062bbd526c.mock.pstmn.io/test2",
                                    "method": "GET"
                                }
                            }
                        }
                    ]
                },
                {
                    "identifier": "UPDATE",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'UPDATE'}}"
                    },
                    "children": [
                        {
                            "label": "Collection Name",
                            "configProperty": "actionConfiguration.formData.collectionName",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE"
                        },
                        {
                            "label": "Query",
                            "inputType": "JSON",
                            "configProperty": "actionConfiguration.formData.updateMany.query",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{rating : {$gte : 9}}"
                        },
                        {
                            "label": "Update",
                            "configProperty": "actionConfiguration.formData.updateMany.update",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{ $inc: { score: 1 } }"
                        },
                        {
                            "label": "Limit",
                            "configProperty": "actionConfiguration.formData.updateMany.limit",
                            "controlType": "DROP_DOWN",
                            "fetchOptionsCondtionally": "true",
                            "options": []
                        }
                    ]
                },
                {
                    "identifier": "DELETE",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'DELETE'}}"
                    },
                    "children": [
                        {
                            "label": "Collection Name",
                            "configProperty": "actionConfiguration.formData.collectionName",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE"
                        },
                        {
                            "label": "Query",
                            "inputType": "JSON",
                            "configProperty": "actionConfiguration.formData.delete.query",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{rating : {$gte : 9}}"
                        },
                        {
                            "label": "Limit",
                            "configProperty": "actionConfiguration.formData.delete.limit",
                            "controlType": "DROP_DOWN",
                            "initialValue": "SINGLE",
                            "options": [
                                {
                                    "label": "Single Document",
                                    "value": "SINGLE"
                                },
                                {
                                    "label": "All Matching Documents",
                                    "value": "ALL"
                                }
                            ]
                        }
                    ]
                },
                {
                    "identifier": "COUNT",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'COUNT'}}"
                    },
                    "children": [
                        {
                            "label": "Collection Name",
                            "configProperty": "actionConfiguration.formData.collectionName",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE"
                        },
                        {
                            "label": "Query",
                            "inputType": "JSON",
                            "configProperty": "actionConfiguration.formData.count.query",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{rating : {$gte : 9}}"
                        }
                    ]
                },
                {
                    "identifier": "DISTINCT",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'DISTINCT'}}"
                    },
                    "children": [
                        {
                            "label": "Collection Name",
                            "configProperty": "actionConfiguration.formData.collectionName",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE"
                        },
                        {
                            "label": "Query",
                            "inputType": "JSON",
                            "configProperty": "actionConfiguration.formData.distinct.query",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "{rating : {$gte : 9}}"
                        },
                        {
                            "label": "Key",
                            "configProperty": "actionConfiguration.formData.distinct.key",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "name"
                        }
                    ]
                },
                {
                    "identifier": "AGGREGATE",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'AGGREGATE'}}"
                    },
                    "children": [
                        {
                            "label": "Collection Name",
                            "configProperty": "actionConfiguration.formData.collectionName",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE"
                        },
                        {
                            "label": "Array of Pipelines",
                            "configProperty": "actionConfiguration.formData.aggregate.arrayPipelines",
                            "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "placeholderText": "[{ $project: { tags: 1 } }, { $unwind: \"$tags\" }, { $group: { _id: \"$tags\", count: { $sum : 1 } } }  ]"
                        }
                    ]
                },
                {
                    "identifier": "RAW",
                    "controlType": "SECTION",
                    "label": "",
                    "conditionals": {
                        "show": "{{actionConfiguration.formData.command === 'RAW'}}"
                    },
                    "children": [
                        {
                            "label": "",
                            "internalLabel": "Query",
                            "propertyName": "rawWithSmartSubstitute",
                            "configProperty": "actionConfiguration.body",
                            "controlType": "QUERY_DYNAMIC_TEXT",
                            "evaluationSubstitutionType": "SMART_SUBSTITUTE",
                            "conditionals": {
                                "show": "{{actionConfiguration.formData.smartSubstitutions === true}}"
                            }
                        },
                        {
                            "label": "",
                            "configProperty": "actionConfiguration.body",
                            "propertyName": "rawWithTemplate",
                            "internalLabel": "Query",
                            "controlType": "QUERY_DYNAMIC_TEXT",
                            "evaluationSubstitutionType": "TEMPLATE",
                            "conditionals": {
                                "show": "{{actionConfiguration.formData.smartSubstitutions === false}}"
                            }
                        }
                    ]
                }
            ]
        }
    ]
}