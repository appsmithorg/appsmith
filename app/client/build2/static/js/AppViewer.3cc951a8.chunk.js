"use strict";(self.webpackChunkappsmith=self.webpackChunkappsmith||[]).push([[642],{9234:function(e,n,t){t.d(n,{X:function(){return o}});var r,i=t(17186),o=(0,t(86538).vJ)(r||(r=(0,i.Z)(["\n    :root{\n      --wds-accent-color: ",";\n      --wds-font-family: ",";\n    }\n  "])),(function(e){return e.primaryColor}),(function(e){var n=e.fontFamily;return"System Default"===n?"inherit":n}))},95936:function(e,n,t){t.r(n),t.d(n,{default:function(){return ce}});var r,i=t(50678),o=t(17186),a=t(72791),c=t(86538),u=t(52628),s=t(79271),d=t(9724),l=t(72069),p=t(71460),f=t(55636),h=t(91523),m=t(13581),v=t(72310),g=t(2131),y=t(97835),x=t(40641),b=t(7773),C=t(54680),j=t(80184),E=c.ZP.div(r||(r=(0,o.Z)(["\n  height: 100%;\n  position: relative;\n  width: ","px;\n  margin: 0 auto;\n"])),(function(e){return e.width}));var k,w=function(e){return(0,b.F)(),(0,a.useEffect)((function(){x.Z.logEvent("PAGE_LOAD",{pageName:e.pageName,pageId:e.pageId,appName:e.appName,mode:"VIEW"})}),[e.pageId,e.pageName]),(0,j.jsx)(E,{className:"t--app-viewer-page",width:e.canvasWidth,children:e.widgetsStructure.widgetId&&y.Z.createWidget(e.widgetsStructure,C.PD.PAGE)})},P=t(35581),Z=t(28793),I=t(18879),W=t(34135),F=t(7526),S=t(23861),A=t(22682),N=t.n(A),H=c.ZP.section(k||(k=(0,o.Z)(["\n  height: 100%;\n  width: 100%;\n  margin: 0 auto;\n  position: relative;\n  overflow-x: auto;\n  overflow-y: auto;\n"])));var L,D,O=(0,s.EN)((function(e){var n=(0,u.v9)(P.d6),t=(0,u.v9)(S.o$,N()),r=(0,u.v9)(P.je),i=(0,u.v9)(l.OF),o=(0,u.v9)(I.kc),c=e.match,s=(0,a.useMemo)((function(){if(null!==o&&void 0!==o&&o.userPermissions&&(0,W.rq)(null===o||void 0===o?void 0:o.userPermissions,W.BX.MANAGE_APPLICATION))return(0,j.jsxs)("p",{children:["Please add widgets to this page in the\xa0",(0,j.jsx)(h.rU,{to:(0,F.K3)({pageId:e.match.params.pageId}),children:"Appsmith Editor"})]})}),[null===o||void 0===o?void 0:o.userPermissions]),d=(0,j.jsx)(g.Z,{children:(0,j.jsx)(v.tR,{description:s,icon:(0,j.jsx)(v.JO,{color:m.rS.colors.primaryOld,icon:"page-layout",iconSize:m.rS.fontSizes[9]}),title:"This page seems to be blank"})}),p=(0,j.jsx)(g.Z,{children:(0,j.jsx)(v.$j,{})});return i?p:t.children&&t.children.length>0?(0,j.jsxs)(H,{children:[(0,j.jsx)(w,{appName:null===o||void 0===o?void 0:o.name,canvasWidth:r,pageId:c.params.pageId,pageName:n,widgetsStructure:t}),(0,j.jsx)(Z.Z,{})]}):d})),K=t(69343),U=t(19213),z=t(89957),T=t(86610),M=t(13022),G=t.n(M),$=t(72014),_=t(92657),J=t(57531),q=t(57002),R=t(68219),B=t(33590),V=t(61386),X=function(e){var n=(0,a.useRef)();return(0,a.useEffect)((function(){n.current=e})),n.current},Y=t(81641),Q=t(80310),ee=t(14446),ne=t(9234),te=t(73947),re=t(40718),ie=c.ZP.section(L||(L=(0,o.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  justify-content: flex-start;\n  height: calc(100vh - ","px);\n  --view-mode-header-height: ","px;\n"])),(function(e){return e.headerHeight}),(function(e){return e.headerHeight})),oe=c.ZP.div(D||(D=(0,o.Z)(["\n  flex: 1;\n  overflow: auto;\n  margin: 0 auto;\n  background: ",";\n"])),(function(e){return e.backgroundColor})),ae="System Default";var ce=(0,s.EN)(z.zH((function(e){var n=(0,u.I0)(),t=e.location,r=t.pathname,o=t.search,s=e.match.params,h=s.applicationId,m=s.pageId,v=(0,a.useState)(!1),g=(0,i.Z)(v,2),y=g[0],x=g[1],b=(0,u.v9)(l.Dr),E=(0,u.v9)(P.bX),k=(0,u.v9)(_.m_),w=(0,u.v9)((function(e){return(0,T.ef)(e,T.hY.LIGHT)})),Z=(0,u.v9)(B.P1),I=(0,u.v9)(l.$9),W=(0,$.uP)(o,d.u8),F=X({branch:W,location:e.location,pageId:m}),S=(0,te.x)().hideWatermark;(0,a.useEffect)((function(){(0,U.w)().then((function(){x(!0)})),(h||m)&&n((0,ee.GP)({applicationId:h,branch:W,pageId:m,mode:Q.p.PUBLISHED}))}),[]),(0,a.useEffect)((function(){var t=null===F||void 0===F?void 0:F.branch,r=null===F||void 0===F?void 0:F.location,i=null===F||void 0===F?void 0:F.pageId,o=!1;t&&r&&(o=(0,Y.o)(e.location,r));var a=m!==i;t&&o&&(h||m)?n((0,ee.GP)({applicationId:h,branch:W,pageId:m,mode:Q.p.PUBLISHED})):i&&m&&a&&n((0,V.Rd)(m,!0))}),[W,m,h,r]),(0,a.useEffect)((function(){var e,t=document.querySelector(".js-appviewer-header");n((e=(null===t||void 0===t?void 0:t.clientHeight)||0,{type:R.Ep.SET_APP_VIEWER_HEADER_HEIGHT,payload:e}))}),[E.length,b]);var A=k.properties.fontFamily.appFont===ae?"inherit":k.properties.fontFamily.appFont;(0,a.useEffect)((function(){return k.properties.fontFamily.appFont!==ae&&G().load({google:{families:["".concat(k.properties.fontFamily.appFont,":300,400,500,700")]}}),document.body.style.fontFamily=A,function(){document.body.style.fontFamily="inherit"}}),[k.properties.fontFamily.appFont]);var N=(0,a.useCallback)((function(e){return n((0,p.ZO)(e))}),[p.ZO,n]),H=(0,a.useCallback)((function(e){return n((0,K.KL)(e))}),[K.KL,n]),L=(0,a.useCallback)((function(e,t){return n((0,q.Pi)(e,t))}),[q.Pi,n]),D=(0,a.useCallback)((function(e,t,r){return n((0,K.Qe)(e,t,r))}),[K.Qe,n]),z=(0,a.useCallback)((function(){return n((0,K.Tx)())}),[K.Tx,n]),M=(0,a.useCallback)((function(e,t){n((0,re.Wk)(e,t))}),[re.Wk,n]);return(0,j.jsx)(c.f6,{theme:w,children:(0,j.jsxs)(f.r.Provider,{value:{executeAction:N,resetChildrenMetaProperty:H,batchUpdateWidgetProperty:L,syncUpdateWidgetMetaProperty:D,triggerEvalOnMetaUpdate:z,updateWidgetAutoHeight:M,checkContainersForAutoHeight:re.q0},children:[(0,j.jsx)(ne.X,{fontFamily:k.properties.fontFamily.appFont,primaryColor:k.properties.colors.primaryColor}),(0,j.jsxs)(oe,{backgroundColor:k.properties.colors.backgroundColor,children:[(0,j.jsx)(ie,{className:C.p0,hasPages:E.length>1,headerHeight:I,showGuidedTourMessage:Z,children:b&&y&&(0,j.jsx)(O,{})}),!S&&(0,j.jsx)("a",{className:"fixed hidden right-8 bottom-4 z-2 hover:no-underline md:flex",href:"https://appsmith.com",rel:"noreferrer",target:"_blank",children:(0,j.jsx)(J.Z,{})})]})]})})})))},28793:function(e,n,t){var r,i,o=t(18489),a=t(27853),c=t(84531),u=t(81020),s=t(18334),d=t(17186),l=t(72791),p=t(52628),f=t(96522),h=t(71520),m=t(16054),v=t(86538),g=t(46898),y=t(80184),x=v.ZP.div(r||(r=(0,d.Z)(["\n  padding-bottom: 20px;\n"]))),b=v.ZP.div(i||(i=(0,d.Z)(["\n  display: flex;\n  justify-content: flex-end;\n\n  button {\n    margin-left: 12px;\n  }\n"]))),C=function(e){(0,u.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,a.Z)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=n.call.apply(n,[this].concat(i))).addEventListener=function(){document.addEventListener("keydown",e.onKeyUp)},e.removeEventListener=function(){document.removeEventListener("keydown",e.onKeyUp)},e.onKeyUp=function(n){n.metaKey||n.ctrlKey||n.keyCode!==f.K5||e.onConfirm(e.props.modals[e.props.modals.length-1])},e.onConfirm=function(n){(0,e.props.dispatch)((0,h.Y5)(n.name)),e.handleClose(n)},e.handleClose=function(n){var t=e.props.dispatch;t((0,h.JZ)((0,o.Z)((0,o.Z)({},n),{},{modalOpen:!1}))),t((0,h.JW)(n.name))},e}return(0,c.Z)(t,[{key:"componentDidUpdate",value:function(){this.props.modals?this.addEventListener():this.removeEventListener()}},{key:"render",value:function(){var e=this,n=this.props,t=n.dispatch,r=n.modals.filter((function(e){return!0===e.modalOpen}));return(0,y.jsx)(y.Fragment,{children:r.map((function(n,r){return(0,y.jsxs)(m.au,{canEscapeKeyClose:!0,canOutsideClickClose:!0,isOpen:null===n||void 0===n?void 0:n.modalOpen,maxHeight:"80vh",noModalBodyMarginTop:!0,onClose:function(){return e.handleClose(n)},title:"Confirmation Dialog",width:"580px",children:[(0,y.jsxs)(x,{children:[(0,g.tnH)(g.hcW)," ",(0,y.jsx)("b",{children:n.name})," ?"]}),(0,y.jsxs)(b,{children:[(0,y.jsx)(m.zx,{category:m.WD.tertiary,cypressSelector:"t--cancel-modal-btn",onClick:function(){t((0,h.JW)(n.name)),e.handleClose(n)},size:m.$u.large,tag:"button",text:"No",type:"button"}),(0,y.jsx)(m.zx,{category:m.WD.primary,cypressSelector:"t--confirm-modal-btn",onClick:function(){return e.onConfirm(n)},size:m.$u.large,tag:"button",text:"Yes",type:"button"})]})]},r)}))})}}]),t}(l.Component);n.Z=(0,p.$j)((function(e){return{modals:e.ui.modalAction.modals}}))(C)},81641:function(e,n,t){t.d(n,{o:function(){return i}});var r=t(72014),i=function(e,n){var t=e.search,i=n.search;return(0,r.uP)(t,"branch")!==(0,r.uP)(i,"branch")}},7773:function(e,n,t){t.d(n,{F:function(){return m}});var r=t(763),i=t(52628),o=t(72791),a=t(54680),c=t(22685),u=t(35581),s=t(80310),d=t(72014),l=t(57658),p=t(23861),f=t(55202),h=function(e){return e.ui.mainCanvas.initialized},m=function(){var e=(0,i.I0)(),n=(0,i.v9)(c.A0),t=(0,i.v9)(c.Nr),m=(0,i.v9)(p.kZ),v=(0,l.Ck)().width,g=(0,i.v9)(u.Kg),y=(0,i.v9)(u.uJ),x=(0,i.v9)(u.zj),b=(0,i.v9)(h),C=(0,i.v9)(u.K1),j=(0,o.useMemo)((function(){var e=-1,n=-1;if(C){var t=C.type,i=(0,r.get)(a.Vw,t,a.Vw[a.$$]);i.minWidth&&(e=i.minWidth),i.maxWidth&&(n=i.maxWidth)}return{minWidth:e,maxWidth:n}}),[C]),E=function(){var n=function(){var e=document.querySelector(".js-entity-explorer"),n=document.querySelector(".js-property-pane-sidebar"),r=j.maxWidth,i=j.minWidth,o=v-(0,d.LF)();switch(!1===y&&(o-=(null===n||void 0===n?void 0:n.clientWidth)||0),!0!==t||y||(o-=(null===e||void 0===e?void 0:e.clientWidth)||0),!0){case r<0:case"FLUID"===(null===C||void 0===C?void 0:C.type):case o<r&&o>i:return o-(m!==s.p.EDIT||y?0:74);case o<i:return i;case o>r:return r;default:return i}}();(g||{}).width===n&&b||e((0,f.pF)(n))},k=(0,o.useCallback)((0,r.debounce)(E,250),[g,v]);return(0,o.useEffect)((function(){b&&k()}),[v]),(0,o.useEffect)((function(){E()}),[C,x,null===g||void 0===g?void 0:g.width,y,n,t]),b}}}]);
//# sourceMappingURL=AppViewer.3cc951a8.chunk.js.map