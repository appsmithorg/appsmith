(this.webpackJsonpappsmith=this.webpackJsonpappsmith||[]).push([[11],{1103:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(362),o=t(758),l=t(4),c=t(15),u=t(39),s=t(78),d=t(702),f=t(91),p=t(866),g=t(795),h=t(2),m=t(867),b=t(687),E=t(65),v=t(16),x=t(171),O=t(707),y=t(792),R=t(718),j=t(749);function w(){var e=Object(c.a)(["\n  &&&&.bp3-menu {\n    max-width: 250px;\n    cursor: pointer;\n  }\n"]);return w=function(){return e},e}function I(){var e=Object(c.a)(["\n  width: 100%;\n  height: auto;\n  font-size: 14px;\n  .table {\n    .tbody {\n      overflow: auto;\n      height: auto;\n      max-height: calc(\n        100vh - (100vh / 3) - ","\n      );\n    }\n  }\n"]);return I=function(){return e},e}function N(){var e=Object(c.a)(["\n  cursor: pointer;\n"]);return N=function(){return e},e}var _=v.default.div(N()),T=Object(v.default)(d.l)(I(),(function(e){return e.theme.headerHeight})),A=Object(v.default)(s.r)(w()),U=function(e){return a.a.createElement(A,null,Object.entries(e.userRoles).map((function(n,t){var r=a.a.createElement("div",null,a.a.createElement("span",null,a.a.createElement("b",null,n[0])),a.a.createElement("div",null,n[1]));return a.a.createElement(s.s,{multiline:!0,key:t,onClick:function(){return e.changeOrgUserRole(e.orgId,n[0],e.username)},active:e.activeItem===n[0],text:r})})))},k=Object(u.b)((function(e){return{allUsers:Object(f.b)(e),allRole:Object(f.a)(e),isFetchAllUsers:e.ui.orgs.loadingStates.isFetchAllUsers,isFetchAllRoles:e.ui.orgs.loadingStates.isFetchAllRoles,allOrgs:Object(f.e)(e),currentUser:Object(R.a)(e)}}),(function(e){return{getAllApplication:function(){return e({type:h.b.GET_ALL_APPLICATION_INIT})},changeOrgName:function(n){return e({type:h.b.UPDATE_ORG_NAME_INIT,payload:{name:n}})},changeOrgUserRole:function(n,t,r){return e({type:h.b.CHANGE_ORG_USER_ROLE_INIT,payload:{orgId:n,role:t,username:r}})},deleteOrgUser:function(n,t){return e({type:h.b.DELETE_ORG_USER_INIT,payload:{orgId:n,username:t}})},fetchUser:function(n){return e({type:h.b.FETCH_ALL_USERS_INIT,payload:{orgId:n}})},fetchAllRoles:function(n){return e({type:h.b.FETCH_ALL_ROLES_INIT,payload:{orgId:n}})}}}))((function(e){var n,t=e.match.params.orgId,i=e.deleteOrgUser,o=e.changeOrgUserRole,c=e.allOrgs,u=e.fetchUser,d=e.fetchAllRoles,f=e.getAllApplication,h=e.allUsers.map((function(n){var t;return Object(l.a)({},n,{roles:e.allRole,isCurrentUser:n.username===(null===(t=e.currentUser)||void 0===t?void 0:t.username)})})),v=a.a.useMemo((function(){return h}),[h]),R=a.a.useMemo((function(){return[{Header:"Email",accessor:"username"},{Header:"Name",accessor:"name"},{Header:"Role",accessor:"roleName",Cell:function(e){return function(e){var n=e.cellProps.row.original,t=n.roleName,r=n.roles,i=n.username,o=n.isCurrentUser,l=n.isChangingRole;return o?a.a.createElement("div",null,t):a.a.createElement(s.w,{content:a.a.createElement(U,{activeItem:t,userRoles:r,username:i,changeOrgUserRole:e.changeOrgUserRole,orgId:e.orgId}),position:E.a.BOTTOM_LEFT},a.a.createElement(_,null,t,a.a.createElement(s.o,{icon:"chevron-down"}),l?a.a.createElement(O.a,{size:20}):void 0))}({cellProps:e,changeOrgUserRole:o,orgId:t})}},{Header:"Delete",accessor:"delete",Cell:function(e){return function(e){var n=e.cellProps.row.original,t=n.username,r=n.isCurrentUser,i=n.isDeleting;return!r&&(i?a.a.createElement(O.a,{size:20}):a.a.createElement(x.a.DELETE_ICON,{height:20,width:20,color:"grey",background:"grey",onClick:function(){return e.deleteOrgUser(e.orgId,t)},style:{alignSelf:"center",cursor:"pointer"}}))}({cellProps:e,deleteOrgUser:i,orgId:t})}}]}),[t,i,o]),w=c.find((function(e){return e.organization.id===t})),I=null!==(n=null===w||void 0===w?void 0:w.organization.name)&&void 0!==n?n:"",N=Object(j.useTable)({columns:R,data:v,manualPagination:!0},j.useFlexLayout),A=N.getTableProps,k=N.getTableBodyProps,G=N.headerGroups,H=N.rows,L=N.prepareRow;return Object(r.useEffect)((function(){u(t),d(t),f()}),[t,u,d,f]),a.a.createElement(a.a.Fragment,null,a.a.createElement(g.a,null,a.a.createElement("h2",null,I)),a.a.createElement(p.a,null),a.a.createElement(g.a,null,a.a.createElement("h2",null,"Users"),a.a.createElement(y.a,{trigger:a.a.createElement(b.a,{intent:"primary",text:"Invite Users",icon:"plus",iconAlignment:"left",filled:!0}),Form:m.a,orgId:t,title:"Invite Users to ".concat(I),setMaxWidth:!0})),e.isFetchAllUsers&&e.isFetchAllRoles?a.a.createElement(O.a,{size:30}):a.a.createElement(T,{width:200,height:200},a.a.createElement("div",{className:"tableWrap"},a.a.createElement("div",Object.assign({},A(),{className:"table"}),G.map((function(e,n){return a.a.createElement("div",Object.assign({key:n},e.getHeaderGroupProps(),{className:"tr"}),e.headers.map((function(e,n){return a.a.createElement("div",Object.assign({key:n},e.getHeaderProps(),{className:"th header-reorder"}),a.a.createElement("div",{className:e.isHidden?"hidden-header":"draggable-header"},e.render("Header")))})))})),a.a.createElement("div",Object.assign({},k(),{className:"tbody"}),H.map((function(e,n){return L(e),a.a.createElement("div",Object.assign({key:n},e.getRowProps(),{className:"tr"}),e.cells.map((function(e,t){return a.a.createElement("div",Object.assign({key:t},e.getCellProps(),{className:"td","data-rowindex":n,"data-colindex":t}),e.render("Cell"))})))})))))))})),G=t(334),H=t(389),L=t(706),B=t(55),S=t(101),z=t(794),C=t(37),F=t(869),P=t(793),D=t(770),Y=t(709),W=t(868),M=t(712);function X(){var e=Object(c.a)(["\n  && {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: none;\n    justify-content: space-between;\n    align-items: flex-start;\n    & > div:first-of-type {\n    }\n    & > div {\n      min-width: 150px;\n      margin: 0em 1em 1em 0em;\n    }\n    & > div:last-of-type {\n      min-width: 0;\n      display: flex;\n      align-self: center;\n    }\n  }\n"]);return X=function(){return e},e}function J(){var e=Object(c.a)(["\n  width: 100%;\n  background: white;\n  padding: ","px;\n"]);return J=function(){return e},e}var K=v.default.div(J(),(function(e){return e.theme.spaces[11]})),Q=v.default.div(X()),q=function(e){var n=e.fields,t=e.roles,r=e.role;return a.a.createElement(a.a.Fragment,null,n.map((function(e,r){return a.a.createElement(Q,{key:"".concat(e,".id")},a.a.createElement(Y.a,{fill:!0,label:S.J},a.a.createElement(F.a,{name:"".concat(e,".users"),placeholder:S.K,type:"email",label:"Emails",intent:"success"})),t&&a.a.createElement(Y.a,{label:S.L},a.a.createElement(W.a,{name:"".concat(e,".role"),placeholder:S.M,options:t,size:"large"})),a.a.createElement(x.a.DELETE_ICON,{width:32,height:32,style:{cursor:"pointer"},onClick:function(){return n.remove(r)}}))})),a.a.createElement(D.a,{onClick:function(){return n.push({id:Object(C.b)(),role:r?r.id:void 0})},text:S.I,icon:"plus"}))},V=Object(u.b)((function(e){return{roles:Object(f.f)(e),defaultRole:Object(f.d)(e)}}),(function(e){return{fetchRoles:function(){return e({type:h.b.FETCH_ORG_ROLES_INIT})}}}))(Object(H.a)({form:B.i,validate:function(e){var n={usersByRole:[]};return e.usersByRole&&e.usersByRole.length&&e.usersByRole.forEach((function(e,t){var r;(n.usersByRole[t]={id:"",users:"",role:""},e.users&&e.users.length>0)?(e.users.split(",").filter(Boolean).forEach((function(e){Object(M.a)(e)||(n.usersByRole[t].users?n.usersByRole[t].users+="".concat(e,", "):n.usersByRole[t].users="".concat(e,", "))})),n.usersByRole[t].users&&n.usersByRole[t].users.length>0&&(n.usersByRole[t].users="".concat(S.R," ").concat(n.usersByRole[t].users.slice(0,-2))),void 0!==e.role&&0!==(null===(r=e.role)||void 0===r?void 0:r.trim().length)||(n.usersByRole[t].role=S.S)):n.usersByRole[t].users=S.Q})),n}})((function(e){var n=e.handleSubmit,t=e.submitting,o=e.submitFailed,l=e.submitSucceeded,c=e.error,u=e.fetchRoles,s=e.roles,d=e.initialize,f=e.defaultRole,p=e.anyTouched,g=Object(i.g)();return Object(r.useEffect)((function(){s?d({usersByRole:[{id:Object(C.b)(),role:f?f.id:void 0}]}):u()}),[u,s,f,d]),a.a.createElement(K,null,l&&a.a.createElement(L.a,{intent:"primary",message:S.P}),o&&c&&a.a.createElement(L.a,{intent:"danger",message:"".concat(S.O,": ").concat(c)}),a.a.createElement(G.a,{name:"usersByRole",component:q,props:{roles:s}}),a.a.createElement(P.a,{divider:!0,onSubmit:n(z.c),submitting:t&&!(o&&!p),onCancel:function(){return g.goBack()},submitOnEnter:!1,submitText:S.N}))}))),Z=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"Invite Users"),a.a.createElement(V,null))},$=t(699),ee=function(){return a.a.createElement($.a,null,a.a.createElement("p",null,"This page is under construction"))},ne=t(104);t.d(n,"Organization",(function(){return te}));var te=function(){var e=Object(i.j)().path,n=Object(i.h)();return a.a.createElement(o.a,{displayName:"Organization Settings"},a.a.createElement(i.d,{location:n},a.a.createElement(ne.a,{exact:!0,path:"".concat(e,"/:orgId/settings"),component:k,name:"Settings"}),a.a.createElement(ne.a,{exact:!0,path:"".concat(e,"/invite"),component:Z,name:"Invite"}),a.a.createElement(ne.a,{component:ee,name:"DefaultOrgPage"})))};n.default=te},699:function(e,n,t){"use strict";var r=t(15),a=t(16);function i(){var e=Object(r.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return i=function(){return e},e}n.a=a.default.div(i())},702:function(e,n,t){"use strict";t.d(n,"l",(function(){return E})),t.d(n,"d",(function(){return v})),t.d(n,"g",(function(){return x})),t.d(n,"e",(function(){return O})),t.d(n,"i",(function(){return y})),t.d(n,"h",(function(){return R})),t.d(n,"f",(function(){return j})),t.d(n,"a",(function(){return w})),t.d(n,"b",(function(){return I})),t.d(n,"k",(function(){return N})),t.d(n,"c",(function(){return _})),t.d(n,"j",(function(){return T}));var r=t(15),a=t(16),i=t(10);function o(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  line-height: 20px;\n  color: #4e5d78;\n  margin: 0 4px;\n  white-space: nowrap;\n"]);return o=function(){return e},e}function l(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n"]);return l=function(){return e},e}function c(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  border-bottom: 1px solid ",";\n"]);return c=function(){return e},e}function u(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  opacity: ",";\n  .image-cell {\n    width: 40px;\n    height: 32px;\n    margin: 0 5px 0 0;\n    border-radius: 4px;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  }\n  video {\n    border-radius: 4px;\n  }\n  &.video-cell {\n    height: 100%;\n    iframe {\n      border: none;\n      border-radius: 4px;\n    }\n  }\n"]);return u=function(){return e},e}function s(){var e=Object(r.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 10px 5px 0 0;\n  cursor: pointer;\n  padding: 5px;\n  height: 32px;\n  color: ",";\n  background: ",";\n  border-radius: 4px;\n  letter-spacing: -0.03em;\n  font-weight: bold;\n"]);return s=function(){return e},e}function d(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  width: 100%;\n  background: ",";\n  position: relative;\n  .title {\n    color: ",";\n    margin-left: 10px;\n  }\n  .sub-menu {\n    position: absolute;\n    right: 0;\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(r.a)(["\n  background: ",";\n  border: 1px solid\n    ",";\n  box-sizing: border-box;\n  border-radius: 4px;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 0 4px;\n  pointer-events: ",";\n  cursor: pointer;\n  &:hover {\n    border-color: ",";\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(r.a)(["\n  box-sizing: border-box;\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 14px 20px;\n"]);return p=function(){return e},e}function g(){var e=Object(r.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  cursor: pointer;\n"]);return g=function(){return e},e}function h(){var e=Object(r.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  height: 32px;\n  box-sizing: border-box;\n  padding: 8px;\n  color: ",";\n  font-size: 14px;\n  min-width: 200px;\n  cursor: pointer;\n  border-radius: 4px;\n  margin: 3px 0;\n  background: ",";\n  &:hover {\n    background: ",";\n  }\n  .column-type {\n    width: 100%;\n  }\n  &.non-selectable {\n    color: ",";\n    pointer-events: none;\n  }\n"]);return h=function(){return e},e}function m(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  background: white;\n  z-index: 1;\n  padding: 10px;\n  border-radius: 4px;\n  border: 1px solid ",";\n  box-shadow: 0px 2px 4px rgba(67, 70, 74, 0.14);\n"]);return m=function(){return e},e}function b(){var e=Object(r.a)(["\n  width: ","px;\n  height: ","px;\n  background: white;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  .tableWrap {\n    height: 100%;\n    display: block;\n    overflow-x: auto;\n    overflow-y: hidden;\n  }\n  .table {\n    border-spacing: 0;\n    color: ",";\n    position: relative;\n    .thead {\n      overflow-y: auto;\n      overflow-x: hidden;\n    }\n    .tbody {\n      overflow: scroll;\n      height: ","px;\n    }\n    .tr {\n      :nth-child(even) {\n        background: ",";\n      }\n      &.selected-row {\n        background: ",";\n      }\n      &:hover {\n        background: ",";\n      }\n    }\n    .th,\n    .td {\n      margin: 0;\n      padding: 9px 10px;\n      border-bottom: 1px solid ",";\n      border-right: 1px solid ",";\n      position: relative;\n      :last-child {\n        border-right: 0;\n      }\n      .resizer {\n        display: inline-block;\n        width: 10px;\n        height: 100%;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(50%);\n        z-index: 1;\n        ","\n        touch-action:none;\n        &.isResizing {\n          cursor: isResizing;\n        }\n      }\n    }\n    .th {\n      padding: 0 10px 0 0;\n      height: 52px;\n      line-height: 52px;\n      background: ",";\n    }\n    .td {\n      height: 52px;\n      line-height: 52px;\n      padding: 0 10px;\n    }\n  }\n  .draggable-header,\n  .hidden-header {\n    width: 100%;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: ",";\n    font-weight: 500;\n    padding-left: 10px;\n  }\n  .draggable-header {\n    cursor: pointer;\n    &.reorder-line {\n      width: 1px;\n      height: 100%;\n    }\n  }\n  .hidden-header {\n    opacity: 0.6;\n  }\n  .column-menu {\n    cursor: pointer;\n    height: 52px;\n    line-height: 52px;\n  }\n  .th {\n    display: flex;\n    justify-content: space-between;\n    &.highlight-left {\n      border-left: 2px solid ",";\n    }\n    &.highlight-right {\n      border-right: 2px solid ",";\n    }\n  }\n  .input-group {\n    height: 52px;\n    line-height: 52px;\n    padding: 0 5px;\n  }\n"]);return b=function(){return e},e}var E=a.default.div(b(),(function(e){return e.width-5}),(function(e){return e.height-5}),i.a.GEYSER_LIGHT,i.a.BLUE_BAYOUX,(function(e){return e.height-5-102}),i.a.ATHENS_GRAY_DARKER,i.a.POLAR,i.a.ATHENS_GRAY,i.a.GEYSER_LIGHT,i.a.GEYSER_LIGHT,"",i.a.ATHENS_GRAY_DARKER,i.a.OXFORD_BLUE,i.a.GREEN,i.a.GREEN),v=a.default.div(m(),i.a.ATHENS_GRAY),x=a.default.div(h(),(function(e){return e.selected?i.a.WHITE:i.a.OXFORD_BLUE}),(function(e){return e.selected?i.a.GREEN:i.a.WHITE}),(function(e){return e.selected?i.a.GREEN:i.a.POLAR}),i.a.GRAY),O=a.default.div(g()),y=a.default.div(p()),R=a.default.div(f(),(function(e){return e.disabled?i.a.ATHENS_GRAY:i.a.WHITE}),(function(e){return e.selected?i.a.GREEN:i.a.GEYSER_LIGHT}),(function(e){return e.disabled&&"none"}),i.a.GREEN),j=a.default.div(d(),(function(e){return e.selected&&i.a.GREEN}),(function(e){return e.selected?i.a.WHITE:i.a.OXFORD_BLUE})),w=a.default.div(s(),i.a.WHITE,i.a.GREEN),I=a.default.div(u(),(function(e){return e.isHidden?"0.6":"1"})),N=a.default.div(c(),i.a.GEYSER_LIGHT),_=a.default.div(l()),T=a.default.div(o())},707:function(e,n,t){"use strict";var r=t(15),a=t(78),i=t(6),o=t(16);function l(){var e=Object(r.a)(["\n  &."," {\n    display: inline-flex;\n  }\n"]);return l=function(){return e},e}var c=Object(o.default)(a.B)(l(),i.a.SPINNER);n.a=c},770:function(e,n,t){"use strict";var r=t(15),a=t(16),i=t(78),o=t(38);function l(){var e=Object(r.a)(["\n  ","\n"]);return l=function(){return e},e}n.a=Object(a.default)(i.c)(l(),o.a)},795:function(e,n,t){"use strict";var r=t(15),a=t(16);function i(){var e=Object(r.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  align-items: center;\n"]);return i=function(){return e},e}n.a=a.default.div(i())}}]);
//# sourceMappingURL=orgs.6b1f1748.chunk.js.map