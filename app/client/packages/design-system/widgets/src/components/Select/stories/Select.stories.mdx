import { Canvas, Meta, Story, ArgsTable } from "@storybook/addon-docs";
import { Select, Button, Flex, SIZES } from "@design-system/widgets";

export const items = [
  { key: 1, name: "Aerospace", icon: "rocket" },
  { key: 2, name: "Mechanical", icon: "settings" },
  { key: 3, name: "Civil" },
  { key: 4, name: "Biomedical" },
  { key: 5, name: "Nuclear" },
  { key: 6, name: "Industrial" },
  { key: 7, name: "Chemical" },
  { key: 8, name: "Agricultural" },
  { key: 9, name: "Electrical" },
];

<Meta
  title="Design-system/Widgets/Select"
  component={Select}
  args={{
    items: items,
  }}
/>

export const Template = (args) => (
  <Flex width="sizing-60">
    <Select {...args} />
  </Flex>
);

# Select

A select displays a collapsible list of options and allows a user to select one of them.

<Canvas>
  <Story name="Select">{Template.bind({})}</Story>
</Canvas>

<ArgsTable story="Select" of={Select} />

## Size

<Story name="Size">
  <Flex direction="column" gap="spacing-2" width="sizing-60">
    {Object.keys(SIZES)
      .filter((size) => !["large"].includes(size))
      .map((size) => (
        <Select placeholder={size} items={items} size={size} />
      ))}
  </Flex>
</Story>

## Loading

<Story
  name="Loading"
  args={{
    placeholder: "Loading",
    isLoading: true,
  }}
>
  {Template.bind({})}
</Story>

## Validation

<Story name="Validation">
  <form
    onSubmit={(e) => {
      e.preventDefault();
      alert("Form submitted");
    }}
  >
    <Flex gap="spacing-2" direction="column" width="sizing-60">
      <Select
        label="Validation"
        isRequired
        description="description"
        items={items}
      />
      <Button type="submit">Submit</Button>
    </Flex>
  </form>
</Story>

## Contextual Help Text

<Story
  name="Contextual Help Text"
  args={{
    label: "Label",
    placeholder: "Contextual Help Text",
    contextualHelp: "This is a contextual help text",
  }}
>
  {Template.bind({})}
</Story>
