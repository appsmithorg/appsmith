{
  "identifier": "VISION",
  "controlType": "SECTION",
  "conditionals": {
    "show": "{{actionConfiguration.formData.command.data === 'VISION'}}"
  },
  "children": [
    {
      "label": "Models",
      "tooltipText": "Select the model for response generation",
      "subtitle": "ID of the model to use.",
      "isRequired": true,
      "propertyName": "vision_model_id",
      "configProperty": "actionConfiguration.formData.visionModel.data",
      "controlType": "DROP_DOWN",
      "initialValue": "",
      "options": ["gpt-4-vision-preview"],
      "placeholderText": "All models will be fetched.",
      "fetchOptionsConditionally": true,
      "alternateViewTypes": ["json"],
      "conditionals": {
        "enable": "{{true}}",
        "fetchDynamicValues": {
          "condition": "{{true}}",
          "config": {
            "params": {
              "requestType": "CHAT_MODELS",
              "displayType": "DROP_DOWN"
            }
          }
        }
      }
    },
    {
      "label": "path to query",
      "configProperty": "actionConfiguration.path",
      "controlType": "INPUT_TEXT",
      "initialValue": "/v1/chat/completions",
      "isRequired": true,
      "hidden": true
    },
    {
      "label": "Max Token",
      "tooltipText": "Max tokens to use for this assistant requests",
      "Description": "Put a positive integer value",
      "configProperty": "actionConfiguration.formData.maxTokens",
      "controlType": "INPUT_TEXT",
      "initialValue": "1",
      "isRequired": true
    },
    {
      "label": "Temperature",
      "tooltipText": "Put a value between 0 and 2",
      "Description": "Put a value between 0 and 2",
      "subtitle": "What sampling temperature to use, between 0 and 2. Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.",
      "configProperty": "actionConfiguration.formData.temperature",
      "controlType": "INPUT_TEXT",
      "initialValue": "1",
      "isRequired": false
    },
    {
      "label": "System Messages",
      "tooltipText": "Provide instruction to assistant",
      "subtitle": "A list of messages to provide as instruction to assistant",
      "propertyName": "systemMessages",
      "isRequired": true,
      "configProperty": "actionConfiguration.formData.systemMessages",
      "controlType": "ARRAY_FIELD",
      "addMoreButtonLabel": "Add System Message",
      "schema": [
        {
          "label": "Content",
          "key": "content",
          "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
          "placeholderText": "{{ UserInput.text }}"
        }
      ]
    },
    {
      "label": "User Messages",
      "tooltipText": "Provide User queries",
      "subtitle": "A list of queries/images for Assistant",
      "propertyName": "userMessages",
      "isRequired": true,
      "configProperty": "actionConfiguration.formData.userMessages",
      "controlType": "ARRAY_FIELD",
      "addMoreButtonLabel": "Add User Query/Image",
      "schema": [
        {
          "label": "Type",
          "key": "type",
          "controlType": "DROP_DOWN",
          "options": [
            {
              "label": "Text",
              "value": "text"
            },
            {
              "label": "Image",
              "value": "image"
            }
          ]
        },
        {
          "label": "Content",
          "key": "content",
          "controlType": "QUERY_DYNAMIC_INPUT_TEXT",
          "placeholderText": "{{ UserImage.image }} / {{ QueryInput.text }}"
        }
      ]
    }
  ]
}
