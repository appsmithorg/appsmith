{
  "form": [
    {
      "sectionName": "Connection",
      "id": 1,
      "children": [
        {
          "label": "Connection mode",
          "configProperty": "datasourceConfiguration.connection.mode",
          "controlType": "SEGMENTED_CONTROL",
          "initialValue": "READ_WRITE",
          "options": [
            {
              "label": "Read / Write",
              "value": "READ_WRITE"
            },
            {
              "label": "Read only",
              "value": "READ_ONLY"
            }
          ]
        },
        {
          "sectionName": null,
          "children": [
            {
              "label": "Host address",
              "configProperty": "datasourceConfiguration.endpoints[*].host",
              "controlType": "KEYVALUE_ARRAY",
              "validationMessage": "Please enter a valid host",
              "validationRegex": "^((?![/:]).)*$",
              "placeholderText": "myapp.abcde.postgres.net"
            },
            {
              "label": "Port",
              "configProperty": "datasourceConfiguration.endpoints[*].port",
              "dataType": "NUMBER",
              "controlType": "KEYVALUE_ARRAY",
              "placeholderText": "5432"
            }
          ]
        },
        {
          "label": "Database name",
          "configProperty": "datasourceConfiguration.authentication.databaseName",
          "controlType": "INPUT_TEXT",
          "placeholderText": "Database name",
          "initialValue": "admin"
        }
      ]
    },
    {
      "sectionName": "Authentication",
      "id": 2,
      "children": [
        {
          "sectionName": null,
          "children": [
            {
              "label": "Username",
              "configProperty": "datasourceConfiguration.authentication.username",
              "controlType": "INPUT_TEXT",
              "placeholderText": "Username"
            },
            {
              "label": "Password",
              "configProperty": "datasourceConfiguration.authentication.password",
              "dataType": "PASSWORD",
              "controlType": "INPUT_TEXT",
              "placeholderText": "Password",
              "encrypted": true
            }
          ]
        }
      ]
    },
    {
      "id": 3,
      "sectionName": "SSL (optional)",
      "children": [
        {
          "label": "SSL mode",
          "configProperty": "datasourceConfiguration.connection.ssl.authType",
          "controlType": "DROP_DOWN",
          "initialValue": "DEFAULT",
          "options": [
            {
              "label": "Default",
              "value": "DEFAULT"
            },
            {
              "label": "Allow",
              "value": "ALLOW"
            },
            {
              "label": "Prefer",
              "value": "PREFER"
            },
            {
              "label": "Require",
              "value": "REQUIRE"
            },
            {
              "label": "Disable",
              "value": "DISABLE"
            },
            {
              "label": "Verify CA",
              "value": "VERIFY_CA"
            },
            {
              "label": "Verify Full",
              "value": "VERIFY_FULL"
            }
          ]
        },
        {
          "sectionStyles": { "display": "flex" },
          "children": [
            {
              "sectionStyles": { "flex": 1 },
              "children": [
                {
                  "label": "Use Client CA Certificate",
                  "configProperty":
                  "datasourceConfiguration.connection.ssl.caCertificateType",
                  "controlType": "DROP_DOWN",
                  "initialValue": "NONE",
                  "options": [
                    {
                      "label": "Disabled",
                      "value": "NONE"
                    },
                    {
                      "label": "Upload File",
                      "value": "FILE"
                    },
                    {
                      "label": "Base64 String",
                      "value": "BASE64_STRING"
                    }
                  ],
                  "hidden": {
                    "conditionType": "AND",
                    "conditions": [
                      {
                        "path": "datasourceConfiguration.connection.ssl.authType",
                        "comparison": "NOT_EQUALS",
                        "value": "VERIFY_CA"
                      },
                      {
                        "path": "datasourceConfiguration.connection.ssl.authType",
                        "comparison": "NOT_EQUALS",
                        "value": "VERIFY_FULL"
                      }
                    ]
                  }
                },
                {
                  "label": "Client CA Certificate File",
                  "configProperty":
                  "datasourceConfiguration.connection.ssl.caCertificateFile",
                  "controlType": "FILE_PICKER",
                  "encrypted": true,
                  "hidden": {
                    "path": "datasourceConfiguration.connection.ssl.caCertificateType",
                    "comparison": "NOT_EQUALS",
                    "value": "FILE"
                  }
                },
                {
                  "label": "Base64 Encoded Client CA Certificate String",
                  "configProperty":
                  "datasourceConfiguration.connection.ssl.caCertificateFile.base64Content",
                  "controlType": "INPUT_TEXT",
                  "dataType": "PASSWORD",
                  "encrypted": true,
                  "hidden": {
                    "path": "datasourceConfiguration.connection.ssl.caCertificateType",
                    "comparison": "NOT_EQUALS",
                    "value": "BASE64_STRING"
                  }
                }
              ]
            },
            {
              "sectionStyles": { "flex": 1 , "marginLeft": "20px"},
              "children": [
                {
                  "label": "Use Server CA Certificate",
                  "configProperty":
                  "datasourceConfiguration.connection.ssl.caServerCertificateType",
                  "controlType": "DROP_DOWN",
                  "initialValue": "NONE",
                  "options": [
                    {
                      "label": "Disabled",
                      "value": "NONE"
                    },
                    {
                      "label": "Upload File",
                      "value": "FILE"
                    },
                    {
                      "label": "Base64 String",
                      "value": "BASE64_STRING"
                    }
                  ],
                  "hidden": {
                    "conditionType": "AND",
                    "conditions": [
                      {
                        "path": "datasourceConfiguration.connection.ssl.authType",
                        "comparison": "NOT_EQUALS",
                        "value": "VERIFY_CA"
                      },
                      {
                        "path": "datasourceConfiguration.connection.ssl.authType",
                        "comparison": "NOT_EQUALS",
                        "value": "VERIFY_FULL"
                      }
                    ]
                  }
                },
                {
                  "label": "Client CA Certificate File",
                  "configProperty":
                  "datasourceConfiguration.connection.ssl.caServerCertificateFile",
                  "controlType": "FILE_PICKER",
                  "encrypted": true,
                  "hidden": {
                    "path": "datasourceConfiguration.connection.ssl.caServerCertificateType",
                    "comparison": "NOT_EQUALS",
                    "value": "FILE"
                  }
                },
                {
                  "label": "Base64 Encoded Client CA Certificate String",
                  "configProperty":
                  "datasourceConfiguration.connection.ssl.caServerCertificateFile.Base64Content",
                  "controlType": "INPUT_TEXT",
                  "dataType": "PASSWORD",
                  "encrypted": true,
                  "hidden": {
                    "path": "datasourceConfiguration.connection.ssl.caServerCertificateType",
                    "comparison": "NOT_EQUALS",
                    "value": "BASE64_STRING"
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
